import sympy  # Імпортуємо математичний пакет сампай, який дозволить нам виконати інтегрування та записати підінтегральну функію
from sympy import exp  # З цього пакету ми будето використовувати експоненту, тому імпортуємо її в нашу програму


a = float(input('Введіть нижню границю: '))  # Вводимо нижню границю у нашому прикладі це '0'
b = float(input('Введіть верхню границю: '))  # Вводимо верхню границю у нашому прикладі це '1'
n = int(input('Введіть кількість розбиттів: '))  # Вводимо кількість розбиттів у нашому прикладі це '100'

x = sympy.symbols('x')  # Оголошуємо, що в нас буде змінна 'х' у функціях
h = (b-a)/n  # Обчислюємо крок
start_integral = (exp(x)+1)**(1/2)  # Записуємо функцію початкового інтегралу
result_integration = sympy.integrate((exp(x)+1)**(1/2),x)  # Інтегруємо, щоб побачити вигляд інтегралу та вручну порахувати відносну похибку
area = 0  # Вводимо змінну, в яку будемо заносити численне значення площі кожного кроку
for i in range(1,n+1):  # Прохидимо по кількості точок
    x_i = a + h/2  # Визначаємо значення x_i для кожної точки, беремо h/2 тому що в нас метод середніх прямокутників і ми знаходимо середини проміжкових відрізків
    a = a+h  # Готуємо а до наступної ітерації, додаючи до нього наш крок
    result_digit = start_integral.subs(x,x_i)  # Підставляємо значення x_і у початкову функцію та знаходимо площу цієї частини
    area += result_digit  # Додаємо площу частинки до загального відрізку
area = area * h   # Так як суму площ проміжкових відрізків ми знайшли то залишилось лише помножити її на крок
print(f'Значення інтегралу: {area}')  # Вивід наших результатів
print(f'Результат інтегрування: {result_integration}')

